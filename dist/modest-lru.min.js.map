{"version":3,"file":"modest-lru.min.js","sources":["../src/index.js"],"sourcesContent":["class ModestLRU {\n  constructor (max = 0) {\n    if (!max || max < 1) {\n      throw new Error('Max size of above 1 is required')\n    }\n\n    this.max = max\n    this.size = 0\n    this.cache = new Map()\n    this.prevCache = new Map()\n  }\n\n  set (key, value) {\n    this.cache.set(key, value)\n\n    this.size++\n\n    if (this.size >= this.max) {\n      this.size = 0\n      this.prevCache = this.cache\n      this.cache = new Map()\n    }\n\n    return value\n  }\n\n  get (key) {\n    if (this.cache.has(key)) {\n      return this.cache.get(key)\n    }\n\n    if (this.prevCache.has(key)) {\n      const value = this.prevCache.get(key)\n      this.set(key, value)\n      return value\n    }\n\n    return false\n  }\n\n  has (key) {\n    return this.prevCache.has(key) || this.cache.has(key)\n  }\n\n  remove (key) {\n    return this.prevCache.delete(key) || this.cache.delete(key)\n  }\n\n  clear () {\n    this.prevCache.clear()\n    this.cache.clear()\n  }\n}\n\nexport default ModestLRU\n"],"names":[],"mappings":"qLAAA"}